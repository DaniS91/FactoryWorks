@{
  Layout = "_Layout";
}

@using Factory.Models;

<h1>Engineers</h1>
@if (@Model.Count == 0)
{
  <p class="error">No engineers have been added yet!</p>
} 
else
  {
    <table>
      <tr>
        <th>@Html.ActionLink("Last Name", "Index", new { sortOrder = ViewBag.LastNameSortParm})</th>
        <th>@Html.ActionLink("First Name", "Index", new { sortOrder = ViewBag.FirstNameSortParm})</th>
        <th>Actions</th>
      </tr>
      @foreach (Engineer engineer in Model)
      {
        <tr>
          <td>
            @Html.ActionLink($"{engineer.LastName}", "Details", new { id = engineer.EngineerId })
          </td>
          <td>
            @Html.DisplayFor(Engineer => engineer.FirstName)
          </td>
          <td>
            @Html.ActionLink("Edit", "Edit", new { id = engineer.EngineerId }) |
            @Html.ActionLink("Delete", "Delete", new { id = engineer.EngineerId})
          </td>
        </tr>
      }
    </table>
  }
  <a href="/Engineers/Create"><button type="button" class="btn btn-primary">Add New Engineer</button></a>