@{
  Layout = "_Layout";
}

@using Factory.Models;
@model List<Factory.Models.Machine>;

  <h1>Machines</h1>

  @if (@Model.Count == 0)
  {
    <p class="error">No machines have been added yet!</p>
  }
  else
  {
    <table>
      <tr>
        <th>@Html.ActionLink("Model Name", "Index", new { sortOrder = ViewBag.NameSortParm})</th>
        @* <th>Model Name</th> *@
        <th>@Html.ActionLink("Brand Name", "Index", new { sortOrder = ViewBag.BrandSortParm})</th>
        @* <th>Brand Name</th> *@
        <th>@Html.ActionLink("Task Description", "Index", new { sortOrder = ViewBag.TaskSortParm})</th>
        @* <th>Task Description</th> *@
        <th>Actions</th>
      </tr>
      @foreach (Machine machine in Model)
      {
        <tr>
          <td>
            @Html.ActionLink($"{machine.ModelName}", "Details", new { id = machine.MachineId })
          </td>
          <td>
            @Html.DisplayFor(Machine => machine.BrandName)
          </td>
          <td>
            @Html.DisplayFor(Machine => machine.TaskDescription)
          </td>
          <td>
            @Html.ActionLink("Edit", "Edit", new { id = machine.MachineId }) |
            @Html.ActionLink("Delete", "Delete", new { id = machine.MachineId})
          </td>
        </tr>
      }
    </table>
  }
  <a href="/Machines/Create"><button type="button" class="btn btn-primary">Add New Machine</button></a>
  
